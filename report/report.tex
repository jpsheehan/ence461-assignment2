% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%                        DOCUMENT PREAMBLE                       %%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[12pt]{article}

\usepackage[utf8]{inputenc}

%%% PAGE DIMENSIONS
\usepackage{geometry}
\geometry{a4paper}


%%% PACKAGES
\usepackage{booktabs} 		% for much better looking tables
\usepackage{array} 			% for better arrays (eg matrices) in maths
\usepackage{paralist} 		% very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} 		% adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} 		% make it possible to include more than one captioned figure/table in a single float
\usepackage{amsmath}		% gives math environments like align, split, etc
\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent
\usepackage{xcolor}			% adds support for different colors
\usepackage{float}			% adds support for floats
\usepackage{upgreek}		% greek letters
\usepackage{amssymb}
\usepackage{url}
\usepackage{siunitx}

%%% Images
\usepackage{graphicx}		% allows us to include images
\graphicspath{ {./images/} }


%%% HEADERS & FOOTERS
\usepackage{fancyhdr} 		% This should be set AFTER setting up the page geometry
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}


%%% ToC (table of contents) APPEARANCE
% \usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
% \usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
% \renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
% \renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!


%%% Referencing and Bibliography
\usepackage[backend=bibtex, style=ieee]{biblatex}
\addbibresource{references.bib}


%%% Title Stuff
\title{ENCE461 Assignment 2}
\author{Put names here...}
\date{\today}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%                          DOCUMENT BODY                         %%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\maketitle

\section{Introduction}





\section{Design}


\subsection{Power Supply}




\subsection{Amplifier Stage}

The current transducers output a $\pm \SI{25}{\milli\volt}$ signal centered around $\SI{2.5}{\volt}$.
This signal must be amplified to $\pm \SI{2.5}{\volt}$ using an operational amplifier with a gain of 100.
This amplified signal is then fed into the microcontroller's ADC input.
To realise this, we have used a non-inverting op-amp circuit (figure \ref{fig:non-inverting-op-amp}) for each signal.
The half-rail voltage of $\SI{2.5}{\volt}$ is provided by another op-amp circuit (figure \ref{fig:half-supply}).

\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{cat}
	\caption{The non-inverting op-amp circuit, $A_v = 1 + \frac{R_1}{R_2}$.}
	\label{fig:non-inverting-op-amp}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=0.5\textwidth]{cat}
	\caption{The half-rail voltage op-amp circuit.}
	\label{fig:half-supply}
\end{figure}

The op-amps are required to switch to a low power mode when no ADC readings are taking place.
Due to physical size constraints and part availability we have opted to disable the power supply to the op-amps to achieve a low power state.
The main drawback of this method is the start-up time to enable the op-amps again.
The sum of the time taken to start the linear regulator and op-amp is less than $\SI{150}{\micro\second}$.

12 of these non-inverting amplifier circuits are required for each daughterboard.
We have selected the LMV324 as it has four op-amp circuits in one package.
This reduces the amount of space used on the board and the overall cost.
An additional op-amp package is required to produce the half-rail voltage.

\subsection{Microcontroller}




\subsection{Communications}















%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%                          EXAMPLE STUFF                         %%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage

\section{Example \LaTeX\ Stuff}

\LaTeX\ automatically typesets the text for you, so you don't need to worry about the formatting details for text.
If there is a blank line between two lines of text then they are considered different paragraphs, otherwise the paragraph is continued.

\textcolor{red}{Here is a line of red text.}
\textcolor{blue}{Here is a line of blue text.}

Referencing is done like this\cite{Varghese2012}. A bibliography is printed at the end of the report in IEEE style. A footnote can be added if required\footnote{Oh man, we should have started this last week!}.

\subsection{Math Mode}

Enter math mode by enclosing formulae in single dollar signs: $y(x) = e^x$.
To put the formula on its own line, use double dollar signs: $$c = \sqrt{a^2 + b^2}$$
To have multiple lines of math that are aligned properly on a symbol, then use the align environment:
\begin{align}
	\tan(\theta) &= \frac{\sin(\theta)}{\cos(\theta)} \\
		&= \frac{\sec(\theta)}{\csc(\theta)}
\end{align}
Note that a double back-slash makes a newline, the ampersand (\&) symbol sets the alignment.

If you don't want equation numbers, then put an asterisk (*) symbol after the environment name (this works for many things, like sections, etc):
\begin{align*}
	\tan(\theta) &= \frac{\sin(\theta)}{\cos(\theta)} \\
		&= \frac{\sec(\theta)}{\csc(\theta)}
\end{align*}

\subsection{Lists}

An example of the \texttt{enumerate} environment:
\begin{enumerate}
	\item One item.
	\item Another item.
	\item Yet another item.
\end{enumerate}

An example of the \texttt{itemize} environment:
\begin{itemize}
	\item One item.
	\item Another item.
	\item Yet another item.
\end{itemize}

\subsection{Images and Referencing}

Images can be included, such as figure \ref{fig:cat}. It may look a bit long-winded but using a figure environment allows you to give a caption and a label to the image. I usually just copy and paste figure blocks and change the caption, label and filename whenever I want another image. Labels are used to reference things somewhere else in the document (like this first sentence of this paragraph).

\begin{figure}[H]	% the capital H means that we'd like the image to appear exactly here in the document
					% if no letter is specified, LaTeX will put it where it thinks is best.
	\centering 		% centers the image on the page
	\includegraphics[width=0.8\textwidth]{cat}	% this is where the image is inserted
												% we make the image 80% of the text width
												% the filename is `cat.jpg' and it lives in the images directory
												% LaTeX will find it without its filename extension
	\caption{Cat standing up.}	% the caption
	\label{fig:cat}	% give it a nice label. I like to use `fig' for figures, `eq' for equations, and `tab' for tables.
\end{figure}

Here's an example of referencing Pythagoras Theorem (equation \ref{eq:pythagoras}).
\begin{align} \label{eq:pythagoras}
	c^2 = a^2 + b^2
\end{align}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%                           BIBLIOGRAPHY                         %%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\printbibliography

\end{document}
